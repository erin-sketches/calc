var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function u(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function $(t,n){t.value=null==n?"":n}let b;function x(t){b=t}const y=[],_=[],v=[],w=[],C=Promise.resolve();let O=!1;function k(t){v.push(t)}let E=!1;const N=new Set;function S(){if(!E){E=!0;do{for(let t=0;t<y.length;t+=1){const n=y[t];x(n),F(n.$$)}for(x(null),y.length=0;_.length;)_.pop()();for(let t=0;t<v.length;t+=1){const n=v[t];N.has(n)||(N.add(n),n())}v.length=0}while(y.length);for(;w.length;)w.pop()();O=!1,E=!1,N.clear()}}function F(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const I=new Set;function L(t,n){t&&t.i&&(I.delete(t),t.i(n))}function A(t,n,e,o){if(t&&t.o){if(I.has(t))return;I.add(t),undefined.c.push((()=>{I.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function j(t){t&&t.c()}function T(t,e,l,c){const{fragment:u,on_mount:i,on_destroy:s,after_update:a}=t.$$;u&&u.m(e,l),c||k((()=>{const e=i.map(n).filter(r);s?s.push(...e):o(e),t.$$.on_mount=[]})),a.forEach(k)}function z(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function D(t,n){-1===t.$$.dirty[0]&&(y.push(t),O||(O=!0,C.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(n,r,l,c,u,i,a,f=[-1]){const d=b;x(n);const h=n.$$={fragment:null,ctx:null,props:i,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:r.context||[]),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||d.$$.root};a&&a(h.root);let p=!1;if(h.ctx=l?l(n,r.props||{},((t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&D(n,t)),e})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!c&&c(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(s)}else h.fragment&&h.fragment.c();r.intro&&L(n.$$.fragment),T(n,r.target,r.anchor,r.customElement),S()}x(d)}class M{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const P=[];function q(n,e=t){let o;const r=new Set;function c(t){if(l(n,t)&&(n=t,o)){const t=!P.length;for(const t of r)t[1](),P.push(t,n);if(t){for(let t=0;t<P.length;t+=2)P[t][0](P[t+1]);P.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(l,u=t){const i=[l,u];return r.add(i),1===r.size&&(o=e(c)||t),l(n),()=>{r.delete(i),0===r.size&&(o(),o=null)}}}}function B(t,n){const e=localStorage.getItem(t);return e?JSON.parse(e):n}function G(t,n){localStorage.setItem(n,JSON.stringify(t))}const H=q(B("itemDb",[{desc:"Nasoya extra firm tofu",name:"tofu",cal:80,gram:85,protein:8,fat:5,carb:2},{desc:"White onions, raw",name:"onions (white)",cal:36,gram:100,protein:.89,fat:.13,carb:7.68},{desc:"Gala apple",name:"apple (gala)",cal:61,gram:100,protein:.13,fat:.15,carb:14.8}]));H.subscribe((t=>G(t,"itemDb")));function V(t,n,e){const o=t.slice();return o[2]=n[e],o}function W(t,n,e){const o=t.slice();return o[5]=n[e],o}function K(t){let n,e,o=(t[2][t[5]]?(t[2][t[5]]/t[2].gram).toFixed(3):"--")+"";return{c(){n=f("th"),e=d(o)},m(t,o){i(t,n,o),u(n,e)},p(t,n){1&n&&o!==(o=(t[2][t[5]]?(t[2][t[5]]/t[2].gram).toFixed(3):"--")+"")&&m(e,o)},d(t){t&&s(n)}}}function Q(t){let n,e,o,r,l,c,p,g,$=t[2].desc+"",b=(t[2].cal/t[2].gram).toFixed(3)+"",x=t[1],y=[];for(let n=0;n<x.length;n+=1)y[n]=K(W(t,x,n));return{c(){n=f("tr"),e=f("th"),o=d($),r=h(),l=f("th"),c=d(b),p=h();for(let t=0;t<y.length;t+=1)y[t].c();g=h()},m(t,s){i(t,n,s),u(n,e),u(e,o),u(n,r),u(n,l),u(l,c),u(n,p);for(let t=0;t<y.length;t+=1)y[t].m(n,null);u(n,g)},p(t,e){if(1&e&&$!==($=t[2].desc+"")&&m(o,$),1&e&&b!==(b=(t[2].cal/t[2].gram).toFixed(3)+"")&&m(c,b),3&e){let o;for(x=t[1],o=0;o<x.length;o+=1){const r=W(t,x,o);y[o]?y[o].p(r,e):(y[o]=K(r),y[o].c(),y[o].m(n,g))}for(;o<y.length;o+=1)y[o].d(1);y.length=x.length}},d(t){t&&s(n),a(y,t)}}}function R(n){let e,o,r,l,c=n[0],d=[];for(let t=0;t<c.length;t+=1)d[t]=Q(V(n,c,t));return{c(){e=f("table"),o=f("thead"),o.innerHTML="<tr><th>Name</th> \n            <th>Cals / g</th> \n            <th>Protein (g)</th> \n            <th>Fat (g)</th> \n            <th>Carbs (g)</th></tr>",r=h(),l=f("tbody");for(let t=0;t<d.length;t+=1)d[t].c();g(e,"class","table table-striped")},m(t,n){i(t,e,n),u(e,o),u(e,r),u(e,l);for(let t=0;t<d.length;t+=1)d[t].m(l,null)},p(t,[n]){if(3&n){let e;for(c=t[0],e=0;e<c.length;e+=1){const o=V(t,c,e);d[e]?d[e].p(o,n):(d[e]=Q(o),d[e].c(),d[e].m(l,null))}for(;e<d.length;e+=1)d[e].d(1);d.length=c.length}},i:t,o:t,d(t){t&&s(e),a(d,t)}}}function U(t,n,e){let o;c(t,H,(t=>e(0,o=t)));return[o,["protein","fat","carb"]]}q(B("activeItems",[])).subscribe((t=>G(t,"activeItems")));class X extends M{constructor(t){super(),J(this,t,U,R,l,{})}}function Y(t,n,e){const o=t.slice();return o[11]=n[e],o}function Z(t){let n,e=t[4],o=[];for(let n=0;n<e.length;n+=1)o[n]=tt(Y(t,e,n));return{c(){n=f("ul");for(let t=0;t<o.length;t+=1)o[t].c();g(n,"class","list-group opts svelte-87h4pm")},m(t,e){i(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,r){if(18&r){let l;for(e=t[4],l=0;l<e.length;l+=1){const c=Y(t,e,l);o[l]?o[l].p(c,r):(o[l]=tt(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=e.length}},d(t){t&&s(n),a(o,t)}}}function tt(t){let n,e,o,r,l=t[11].text+"";function c(){return t[7](t[11])}return{c(){n=f("li"),e=d(l),g(n,"class","list-group-item")},m(t,l){i(t,n,l),u(n,e),o||(r=p(n,"click",c),o=!0)},p(n,o){t=n,16&o&&l!==(l=t[11].text+"")&&m(e,l)},d(t){t&&s(n),o=!1,r()}}}function nt(n){let e,r,l,c,a,d=n[3]&&Z(n);return{c(){e=f("div"),r=f("input"),l=h(),d&&d.c(),g(r,"type","text"),g(r,"class","form-control"),g(r,"placeholder",n[0])},m(t,o){i(t,e,o),u(e,r),$(r,n[2]),u(e,l),d&&d.m(e,null),c||(a=[p(r,"input",n[6]),p(e,"blur",n[8]),p(e,"click",n[9]),p(e,"focus",n[10])],c=!0)},p(t,[n]){1&n&&g(r,"placeholder",t[0]),4&n&&r.value!==t[2]&&$(r,t[2]),t[3]?d?d.p(t,n):(d=Z(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:t,o:t,d(t){t&&s(e),d&&d.d(),c=!1,o(a)}}}function et(t,n,e){let o,{placeholder:r}=n,{allOpts:l}=n,{onChange:c}=n,u="",i=!1;return t.$$set=t=>{"placeholder"in t&&e(0,r=t.placeholder),"allOpts"in t&&e(5,l=t.allOpts),"onChange"in t&&e(1,c=t.onChange)},t.$$.update=()=>{36&t.$$.dirty&&e(4,o=l.filter((t=>t.name.toLowerCase().includes(u.toLowerCase()))))},[r,c,u,i,o,l,function(){u=this.value,e(2,u)},t=>{console.log(t),c(t.name)},()=>{e(3,i=!1)},()=>{e(3,i=!0)},()=>{e(3,i=!0)}]}class ot extends M{constructor(t){super(),J(this,t,et,nt,l,{placeholder:0,allOpts:5,onChange:1})}}function rt(t){let n,e,o,r,l,c,a,p,g;return c=new ot({props:{placeholder:"Ingredient",allOpts:t[1],onChange:t[2]}}),p=new X({}),{c(){n=f("main"),e=f("div"),o=d("Value: "),r=d(t[0]),l=h(),j(c.$$.fragment),a=h(),j(p.$$.fragment)},m(t,s){i(t,n,s),u(n,e),u(e,o),u(e,r),u(n,l),T(c,n,null),u(n,a),T(p,n,null),g=!0},p(t,[n]){(!g||1&n)&&m(r,t[0]);const e={};2&n&&(e.allOpts=t[1]),c.$set(e)},i(t){g||(L(c.$$.fragment,t),L(p.$$.fragment,t),g=!0)},o(t){A(c.$$.fragment,t),A(p.$$.fragment,t),g=!1},d(t){t&&s(n),z(c),z(p)}}}function lt(t,n,e){let o,r;c(t,H,(t=>e(3,r=t))),console.log(H);let l="None";return t.$$.update=()=>{8&t.$$.dirty&&e(1,o=r.map((t=>({name:t.name,text:t.name}))))},[l,o,function(t){e(0,l=t)},r]}return new class extends M{constructor(t){super(),J(this,t,lt,rt,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
